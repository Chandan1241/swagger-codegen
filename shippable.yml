language: java

jdk:
- oraclejdk8
# no need to test jdk7 as smoke test is already covered by travis-ci
#- openjdk7

build:
  cache: true
  cache_dir_list:
    - $HOME/.m2
  ci:
    # generate all petstore samples (client, servers, doc)
    - cd .. && rm -Rf swagger-codegen && git clone https://github.com/swagger-api/swagger-codegen.git && cd swagger-codegen
    - ./bin/run-all-petstore 2>&1 > run-all-petstore.log
  post_ci:
    - tail run-all-petstore.log
